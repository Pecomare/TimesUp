@page "/EditDeck/{Guid:guid}"

@using Data

@inherits EditDeckComponent

<h3>@Deck?.Name</h3>

@if (Deck != null)
{
	<button class="btn btn-primary" @onclick="CreateCard">Ajouter une carte</button>
	<button class="btn btn-accept" @onclick="SaveDeck">Enregistrer</button>
	<button class="btn btn-cancel" @onclick="Quit">Quitter</button>
	<br />
	<label for="newName">Nouveau nom</label>
	<input type="text" style="margin-top: 8px" @bind="Deck.Name" />
	<div style="display: grid; grid-template-columns: 1fr min-content; grid-gap: 4px">
		@foreach (Card card in Deck.Cards)
		{
			<input type="text" @bind="card.Text" />
			<button class="btn btn-cancel" @onclick="() => RemoveCard(card)">Supprimer</button>
		}
	 </div>
	 <Popup @ref="SavePopup" />
}